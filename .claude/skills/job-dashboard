#!/usr/bin/env python3
"""
Job Search Dashboard Skill

Get a complete overview of your job search: applications, tracked jobs, deadlines.

Usage:
  /job-dashboard
  /job-dashboard --detailed

Shows:
  - Jobs you've applied to (with status)
  - Tracked jobs you're interested in
  - Upcoming application deadlines
  - Interview schedules
  - Recent job search activity

This skill invokes the job_hunter agent for a comprehensive dashboard.
"""

import sys
import subprocess


def main():
    """Run job dashboard"""

    print("üìä Job Search Dashboard\n")
    print("=" * 70)

    # Default message: comprehensive overview
    message = """
    Give me a complete job search dashboard with:
    1. All jobs I've applied to (with current status)
    2. All tracked jobs I'm interested in
    3. Upcoming application deadlines
    4. Any pending interviews or follow-ups
    5. Summary statistics (total jobs applied, response rate, etc.)
    """

    # Check for detailed flag
    if "--detailed" in sys.argv:
        message += "\nProvide detailed information for each job including company, role, location, and notes."

    # Run the job_hunter agent
    try:
        result = subprocess.run(
            [
                "python", "-m", "agency", "debug", "test", "job_hunter",
                "--message", message
            ],
            cwd="/home/user/agents",
            capture_output=False,
            text=True
        )

        return result.returncode

    except Exception as e:
        print(f"‚ùå Error running job dashboard: {e}")
        return 1


if __name__ == "__main__":
    sys.exit(main())
